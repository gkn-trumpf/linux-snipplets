#!/bin/bash
declare -a args=()

[[ "$@" =~ " --all " ]] \
  && args+=(--all)

[[ "$@" =~ " --force " ]] \
  && args+=(--force)

[[ -z "$@" || " $@ " =~ " --auto " ]] && {
  args+=(--force)
  args+=(--filter until=168h) # 24h*7=168h
}

echo "> Executing:";
echo ">> docker builder prune ${args[@]}";

docker builder prune ${args[@]}
